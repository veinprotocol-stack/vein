@import "tailwindcss";

/* =========================
   Theme tokens (light/dark)
   ========================= */
:root{
  --background:#ffffff;
  --foreground:#171717;

  /* UI tokens used by classnames in the app */
  --bg:#0a0a0a;                       /* dark surface (used via .bg-bg) */
  --line:rgba(255,255,255,0.08);      /* subtle border */
  --panel:rgba(255,255,255,0.02);     /* card/panel bg */
  --text-dim:rgba(255,255,255,0.65);  /* secondary text */
  --text-base:#ffffff;                /* primary on dark */
  --accent:#9fe870;                   /* lime accent */
}

@media (prefers-color-scheme: dark){
  :root{
    --background:#0a0a0a;
    --foreground:#ededed;
  }
}

@theme inline{
  --color-background:var(--background);
  --color-foreground:var(--foreground);
  --font-sans:var(--font-geist-sans);
  --font-mono:var(--font-geist-mono);
}

/* =========================
   Base + Background
   ========================= */
body{
  background:
    radial-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.85)),
    url("/bg.jpg") center center / 104% no-repeat fixed;
  background-size: cover;
  background-attachment: fixed;
  color:var(--foreground);
  font-family:Arial, Helvetica, sans-serif;
  animation: bgFloat 40s ease-in-out infinite;
  backdrop-filter: blur(2px);
}

/* Subtle parallax float */
@keyframes bgFloat {
  0%   { background-position: 50% 50%; transform: scale(1.03); }
  50%  { background-position: 49% 51%; transform: scale(1.06); }
  100% { background-position: 50% 50%; transform: scale(1.03); }
}

/* =========================
   Token utilities (used in JSX)
   ========================= */
.bg-bg{ background:var(--bg) !important; }
.bg-panel{ background:var(--panel) !important; }
.border-line{ border-color:var(--line) !important; }
.text-text-dim{ color:var(--text-dim) !important; }
.text-text-base{ color:var(--text-base) !important; }
.border-accent{ border-color:rgba(159,232,112,0.7) !important; }

button:focus-visible, .card:focus-visible{
  outline:none;
  box-shadow:0 0 0 2px rgba(159,232,112,.25);
}

/* =========================
   Micro-interactions & type
   ========================= */
.glow{
  box-shadow:0 0 10px rgba(159,232,112,.30),
             0 0 30px rgba(159,232,112,.15);
}
@keyframes pulse{ 0%,100%{opacity:.8;transform:scale(1)} 50%{opacity:1;transform:scale(1.03)} }
.tile-hover:hover{ animation:pulse 1.6s infinite; }
h2,h3{ letter-spacing:.01em; }
.font-mono{ font-weight:500; }
main{ animation:fadeIn .4s ease-in; }
@keyframes fadeIn{ from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }

/* =========================
   Cards
   ========================= */
.card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  transition:all .2s ease-in-out;
}
.card:hover{
  border-color:rgba(159,232,112,.40);
  background:rgba(255,255,255,.05);
}
.card-selected{
  border-color:rgba(159,232,112,.70);
  box-shadow:0 0 15px rgba(159,232,112,.20);
}

/* Stat cards */
.stat-card .label{ font-size:11px; opacity:.75; }
.stat-card .value{ font-size:14px; font-weight:600; }

/* =========================
   Board tiles (ORE-like)
   ========================= */
.tile{
  height:96px;
  border-radius:10px;
  overflow:hidden;
}
.tile-head{
  display:flex; align-items:center; justify-content:space-between;
  font-size:10px; line-height:1; letter-spacing:.01em;
  opacity:.75; white-space:nowrap; padding-right:1px;
}
.tile-id{ font-variant-numeric:tabular-nums; }
.tile-peers{ display:inline-flex; align-items:center; gap:4px; }
.tile-peers .digit{ font-variant-numeric:tabular-nums; letter-spacing:.01em; }
.user-ico{ width:12px; height:12px; opacity:.6; transform:translateY(.5px); }
.tile-num{
  position:absolute; left:0; right:0; bottom:8px; text-align:center;
  font-size:14px; font-weight:600; letter-spacing:.01em; line-height:1; white-space:nowrap;
}

/* Right rail controls */
.btn, .pill{
  height:36px; padding:0 12px;
  border-radius:10px;
  border:1px solid var(--line);
  background:var(--panel);
  transition:.2s border-color, .2s background-color, .2s transform;
}
.btn:hover, .pill:hover{ border-color:rgba(159,232,112,.60); }
.btn:active, .pill:active{ transform:translateY(1px); }

/* Mode tabs */
.mode-tab{
  height:36px; padding:0 16px;
  border-radius:10px;
  border:1px solid var(--line);
  background:var(--panel);
  font-size:14px;
}
.mode-tab.is-active{ border-color:rgba(159,232,112,.70); }

/* Commit button */
.commit-btn{
  height:40px; border-radius:10px;
  background:#fff; color:#000; font-weight:600;
}
.commit-btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Synthetic Flesh header tweaks */
.tile-name{
  max-width:82%;
  font-size:11px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* peers cluster smaller */
.tile-peers.slim .digit{
  font-size:10px;
  opacity:0.85;
}
.tile-peers.slim .user-ico{
  width:11px;
  height:11px;
  opacity:0.55;
  transform:translateY(0.5px);
}

/* widescreen name room */
@media (min-width:1280px){
  .tile-name{ max-width:86%; }
}

/* =========================
   VEIN Animated Overlay Layers
   ========================= */

/* optional subtle grid motion */
.vein-grid {
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,0.14) 0 1px, transparent 1px 100%) 0 0 / 40px 40px,
    conic-gradient(from 90deg at 1px 1px, rgba(255,255,255,0.18) 90deg, transparent 0) 0 0 / 80px 80px;
  animation:gridShift 28s linear infinite;
}

@keyframes gridShift {
  from { transform:translate3d(0,0,0); }
  to   { transform:translate3d(-80px,-40px,0); }
}

/* Drifting ‚Äúbio-plasma‚Äù blobs */
.vein-blob {
  position:absolute;
  width:48vw; height:48vw;
  filter:blur(60px);
  opacity:0.14;
  will-change:transform;
  background:
    radial-gradient(closest-side, rgba(167,243,208,0.4), rgba(167,243,208,0) 70%),
    radial-gradient(closest-side, rgba(244,114,182,0.3), rgba(244,114,182,0) 70%);
  mix-blend-mode:screen;
  border-radius:9999px;
}

.blob-a { left:-10vw; top:-8vw; animation:driftA 42s ease-in-out infinite; }
.blob-b { right:-14vw; top:10vh; animation:driftB 55s ease-in-out infinite; }
.blob-c { left:10vw; bottom:-12vw; animation:driftC 50s ease-in-out infinite; }

@keyframes driftA {
  0% { transform:translate3d(0,0,0) scale(1); }
  50% { transform:translate3d(12vw,8vh,0) scale(1.08); }
  100% { transform:translate3d(0,0,0) scale(1); }
}
@keyframes driftB {
  0% { transform:translate3d(0,0,0) scale(1); }
  50% { transform:translate3d(-10vw,12vh,0) scale(0.98); }
  100% { transform:translate3d(0,0,0) scale(1); }
}
@keyframes driftC {
  0% { transform:translate3d(0,0,0) scale(1); }
  50% { transform:translate3d(8vw,-10vh,0) scale(1.05); }
  100% { transform:translate3d(0,0,0) scale(1); }
}

/* Floating dots */
.vein-dot {
  position:absolute;
  width:6px; height:6px;
  border-radius:9999px;
  background:radial-gradient(circle, rgba(212,212,255,0.85), rgba(212,212,255,0) 65%);
  opacity:0.18;
  animation:floatDot linear infinite, twinkle ease-in-out infinite;
  filter:blur(0.5px);
}
.dot-1 { left:8%; top:16%; animation-duration:24s,3.5s; }
.dot-2 { left:22%; top:68%; animation-duration:28s,4.1s; }
.dot-3 { left:41%; top:32%; animation-duration:26s,3.2s; }
.dot-4 { left:59%; top:72%; animation-duration:30s,4.6s; }
.dot-5 { left:74%; top:24%; animation-duration:29s,4.0s; }
.dot-6 { left:86%; top:54%; animation-duration:27s,3.7s; }

@keyframes floatDot {
  0% { transform:translateY(0) translateX(0); }
  50% { transform:translateY(-18px) translateX(6px); }
  100% { transform:translateY(0) translateX(0); }
}
@keyframes twinkle {
  0%,100% { opacity:0.16; }
  50% { opacity:0.28; }
}

/* Subtle vignette */
.vein-vignette {
  pointer-events:none;
  background:radial-gradient(ellipse at 50% 55%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.08) 60%, rgba(0,0,0,0.22) 100%);
}

@media (prefers-reduced-motion:reduce) {
  .vein-grid, .vein-blob, .vein-dot { animation:none !important; }
}

/* Ensure the page always has a full-height backdrop */
html, body { min-height: 100%; }

/* Keep your dark base color for any gaps under the backdrop */
body{
  background: var(--bg);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* üîß Fixed, overscanned anime background (no grey gap on scroll) */
body::before{
  content: "";
  position: fixed;
  z-index: -1;
  /* Overscan a bit so even on subtle pan/tilt you never see edges */
  inset: -3%;

  /* Adjust the darken/opacity & zoom here */
  background:
    radial-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.82)),
    url("/bg.jpg") center center / 108% no-repeat;
  /* No attachment issues on iOS; always fills the viewport */
  will-change: transform, background-position;
  transform: translateZ(0);
}

/* Optional subtle breathing (remove if you want it static) */
@keyframes bgFloat {
  0%   { background-position: 50% 50%; }
  50%  { background-position: 49% 51%; }
  100% { background-position: 50% 50%; }
}
body::before { animation: bgFloat 40s ease-in-out infinite; }

/* Ensure the browser underlay is black (no grey when anything underflows) */
html { background: #000; }

/* Create a reliable stacking context */
body { position: relative; z-index: 0; }

/* Lift the app above the fixed backdrop */
.app-root { position: relative; z-index: 1; }

/* Fixed, overscanned background that never exposes edges on scroll */
body::before{
  content: "";
  position: fixed;
  inset: -6%;                 /* overscan a bit to hide edges during pan/tilt */
  z-index: -1;                /* behind .app-root */

  /* ‚Üì adjust these two to taste */
  background:
    radial-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.82)),
    url("/bg.jpg") center center / 112% no-repeat; /* 112% = tiny zoom out */

  pointer-events: none;
  transform: translateZ(0);
}

/* Optional micro drift (remove if you want it static) */
@keyframes bgFloat { 0%{background-position:50% 50%} 50%{background-position:49% 51%} 100%{background-position:50% 50%} }
body::before { animation: bgFloat 40s ease-in-out infinite; }

html, body { background:#0b0b0d; min-height:100%; }

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease forwards;
}

